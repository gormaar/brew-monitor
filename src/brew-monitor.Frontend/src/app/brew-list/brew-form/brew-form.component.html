<div class="container">
  <div class="header">
    <h1>Create brew</h1>
    <button mat-button class="header__x-button" (click)="closeForm()">
      <i class="material-icons" colo>clear</i>
    </button>
  </div>
  <div class="form-container">
    <div class="details">
      <h3>Brew details</h3>
      <div *ngFor="let detail of inputTags" class="details__form">
        <div>
          <form [formGroup]="brewForm">
            <mat-form-field style="width: 15vw;">
              <input
                matInput
                placeholder="{{ detail }}"
                formControlName="{{ detail }}"
                class="details__input"
              />
            </mat-form-field>
          </form>
        </div>
      </div>
    </div>
    <div class="fermentation">
      <h3>Fermentation</h3>
      <div *ngFor="let detail of fermentationTags" class="details__form">
        <div>
          <form [formGroup]="fermentationForm">
            <mat-form-field style="width: 15vw;">
              <input
                matInput
                placeholder="{{ detail }}"
                formControlName="{{ detail }}"
              />
            </mat-form-field>
          </form>
        </div>
      </div>
    </div>
    <div class="ingredients">
      <h3>Ingredients</h3>
      <div class="ingredients__body">
        <div class="ingredient__form--container">
          <div
            *ngFor="let ingredient of ingredientTags"
            class="ingredients__form"
          >
            <div formArrayName="{{ ingredient }}">
              <form [formGroup]="ingredientsForm2">
                <mat-form-field style="width: 15vw;">
                  <input
                    matInput
                    placeholder="{{ ingredient }}"
                    formControlName="{{ ingredient }}"
                    class="ingredients__input"
                  />
                </mat-form-field>
                <mat-form-field>
                  <input
                    matInput
                    placeholder="Amount"
                    formControlName="amount"
                    class="ingredients__input"
                  />
                </mat-form-field>
                <button mat-button (click)="addIngredient(ingredient)">
                  Add {{ ingredient }}
                </button>
              </form>
            </div>
          </div>
        </div>
        <div class="ingredients__list">
          <div
            *ngFor="let ingredient of ingredientsForm.controls; let i = index"
          >
            <h4>{{ ingredient }}</h4>
            <p>Value: {{ ingredientsForm.value | json }}</p>
            <button mat-button (click)="removeIngredient(ingredient, i)">
              Remove {{ ingredient }}
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="button-container">
      <button mat-button class="create-button">
        Create brew
      </button>
    </div>
  </div>
</div>

<!--
<div class="container">
  <div class="header">
    <h1>Create brew</h1>
    <button mat-button class="header__x-button" (click)="closeForm()">
      <i class="material-icons" colo>clear</i>
    </button>
  </div>
  <div>
    <form [formGroup]="brewForm">
      <mat-form-field *ngFor="let i of inputTags">
        <input matInput placeholder="{{ i }}" formControlName="{{ i }}" />
      </mat-form-field>
      <br />
      Value: {{ brewForm.value | json }}
    </form>
  </div>
  <div>
    <form [formGroup]="ingredientsForm">
      <div
        *ngFor="let ingredient of ingredientsForm.controls"
        formArrayName="{{ ingredient }}"
      >
        <div
          *ngFor="let barley of ingredientsForm.controls; let i = index"
          [formGroupName]="i"
        >
          <div *ngFor="let ingredient of ingredientTags">
            <mat-form-field>
              <input
                matInput
                placeholder="{{ ingredient }}"
                formControlName="{{ ingredient }}"
              />
            </mat-form-field>
            <button mat-raised-button color="warn" (click)="removeBarley(i)">
              Remove barley
            </button>
          </div>
        </div>
        <button mat-raised-button color="primary" (click)="addBarley()">
          Add barley type
        </button>
        <br />
        Value: {{ ingredientsForm.value | json }}
      </div>
    </form>
  </div>
</div>
-->
